id: https://w3id.org/osc-em/instrument
name: OSCEMInstrument
description: >
  LinkML schema for electron microscopy instrument and related metadata,
  broadly following the EMDB standard with some additions.

prefixes:
  linkml: https://w3id.org/linkml/
  instrument: https://w3id.org/osc-em/instrument
  types: https://w3id.org/osc-em/custom_types

default_prefix: instrument

imports:
  - linkml:types
  - ./custom_types


classes:
  Instrument:
    description: Instrument values, mostly constant across a data collection.
    slots:
    - microscope
    - illumination
    - imaging
    - electron_source
    - acceleration_voltage
    - c2_aperture
    - cs
    - operating_mode
    - beam_convergence
    slot_usage:
      microscope:
        required: true
      illumination:
        required: true
      imaging:
        required: true
      electron_source:
        required: true
      acceleration_voltage:
        required: true
      c2_aperture:
        required: false
      cs:
        required: false
      operating_mode:
        required: false
      beam_convergence:
        required: false

  Microscope:
    description: Microscope information
    class_uri: schema:Microscope
    slots:
     - class
     - model
     - manufacturer
    slot_usage:
      class:
        required: false
      model:
        required: false
      manufacturer:
        required: false
  
  Illumination:
    description: Illumination information
    class_uri: schema:Illumination
    slots:
     - mode
     - probe_mode
    slot_usage:
      mode:
        required: false
      probe_mode:
        required: false

slots:
  class:
    description: Microscope class
    range: string

  mode:
    description: Illumination mode
    range: string
  probe_mode:
    description: Illumination probe mode
    range: string

  microscope:
    description: Microscope information
    range: Microscope
  illumination:
    description: Mode of illumination used during data collection
    range: Illumination
  imaging:
    description: Mode of imaging used during data collection
    range: string
  electron_source:
    description: Type of electron source used in the microscope, such as FEG
    range: string
  acceleration_voltage:
    description: Voltage used for the electron acceleration, in kV
    range: Any
    any_of:
      - range:  QuantityValue
      - range:  QuantitySI
  c2_aperture:
    description: C2 aperture size used in data acquisition, in Âµm
    range: Any
    any_of:
      - range:  QuantityValue
      - range:  QuantitySI
  cs:
    description: Spherical aberration of the instrument, in mm
    range: Any
    any_of:
      - range:  QuantityValue
      - range:  QuantitySI
  operating_mode:
    description: Operating mode of the microscope
    range: string
  beam_convergence:
    description: Beam convergence, in mrad
    range: Any
    any_of:
      - range: QuantityValue
      - range: QuantitySI
