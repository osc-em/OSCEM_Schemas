 syntax="proto3";
 package
// metamodel_version: 1.7.0
// A set of parameteres describing the data acquisition
message Acquisition
 {
  range nominalDefocus = 0
  range calibratedDefocus = 0
  integer nominalMagnification = 0
  integer calibratedMagnification = 0
  string holder = 0
  string holderCryogen = 0
  range temperature = 0
  string microscopeSoftware = 0
  string detector = 0
  string detectorMode = 0
  any dosePerMovie = 0
  energyFilter energyFilter = 0
  imageSize imageSize = 0
  datetime dateTime = 0
  any exposureTime = 0
  string cryogen = 0
  integer framesPerMovie = 0
  integer gridsImaged = 0
  integer imagesGenerated = 0
  float binningCamera = 0
  any pixelSize = 0
  specialistOptics specialistOptics = 0
  boundingBox2D beamshift = 0
  boundingBox2D beamtilt = 0
  boundingBox2D imageshift = 0
  integer beamtiltgroups = 0
  string gainrefFlipRotate = 0
 }
// Metadata concerning the acquisition process.
message AcquisitionMetadataMixin
 {
  float nominalTiltAngle = 0
  float accumulatedDose = 0
  cTFMetadata ctfMetadata = 0
 }
message AcquisitionTomo
 {
  range nominalDefocus = 0
  range calibratedDefocus = 0
  integer nominalMagnification = 0
  integer calibratedMagnification = 0
  string holder = 0
  string holderCryogen = 0
  range temperature = 0
  string microscopeSoftware = 0
  string detector = 0
  string detectorMode = 0
  any dosePerMovie = 0
  energyFilter energyFilter = 0
  imageSize imageSize = 0
  datetime dateTime = 0
  any exposureTime = 0
  string cryogen = 0
  integer framesPerMovie = 0
  integer gridsImaged = 0
  integer imagesGenerated = 0
  float binningCamera = 0
  any pixelSize = 0
  specialistOptics specialistOptics = 0
  boundingBox2D beamshift = 0
  boundingBox2D beamtilt = 0
  boundingBox2D imageshift = 0
  integer beamtiltgroups = 0
  string gainrefFlipRotate = 0
  float tiltAxisAngle = 0
  tiltAngle tiltAngle = 0
 }
// An affine transformation
message Affine
 {
  string name = 0
  string input = 0
  string output = 0
  transformationType transformationType = 0
  integer affine = 0
 }
// The tomographic alignment for a tilt series.
message Alignment
 {
 repeated  projectionAlignment projectionAlignments = 0
 }
// A primitive annotation.
message Annotation
 {
  string path = 0
 }
// Details on the person performing the experiment.
message Author
 {
  boolean workStatus = 0
  string workPhone = 0
  string orcid = 0
  string country = 0
  string role = 0
  string nameOrg = 0
  organizationTypeEnum typeOrg = 0
  string lastName = 0
  string firstName = 0
  string email = 0
 }
// A particle averaging experiment.
message Average
 {
  string name = 0
 repeated  annotation annotations = 0
 repeated  particleMap particleMaps = 0
 }
// An axis in a coordinate system
message Axis
 {
  string axisName = 0
  string axisUnit = 0
  axisType axisType = 0
 }
// Axis name to Axis name mapping
message AxisNameMapping
 {
  string axis1Name = 0
  string axis2Name = 0
 }
// an axis-aligned 2D bounding box (float units)
message BoundingBox2D
 {
  any xMin = 0
  any xMax = 0
  any yMin = 0
  any yMax = 0
 }
// Special device used to correct instrument inherent chromatic aberration.
message ChromaticAberrationCorrector
 {
  boolean used = 0
  string instrumentType = 0
 }
// A coordinate system
message CoordinateSystem
 {
  string name = 0
 repeated  axis axes = 0
 }
// A coordinate transformation
message CoordinateTransformation
 {
  transformationType transformationType = 0
  string name = 0
  string input = 0
  string output = 0
 }
// Coordinate system mixins for annotations.
message CoordMetaMixin
 {
 repeated  coordinateSystem coordinateSystems = 0
 repeated  coordinateTransformation coordinateTransformations = 0
 }
// A set of CTF patameters for an image.
message CTFMetadata
 {
  float defocusU = 0
  float defocusV = 0
  float defocusAngle = 0
 }
// A dataset
message Dataset
 {
  string name = 0
 repeated  region regions = 0
 repeated  average averages = 0
 }
// A detector defect file.
message DefectFile
 {
  integer width = 0
  integer height = 0
 repeated  coordinateSystem coordinateSystems = 0
 repeated  coordinateTransformation coordinateTransformations = 0
  string path = 0
 }
message Descriptors
 {
  string descriptorName = 0
  any descriptorThing = 0
 }
// cryo electron tomography dataset, with a focus on a single protein (complex) & subtomogram averaging
message EMDatasetTomo
 {
  processing processing = 0
  acquisitionTomo acquisition = 0
  instrument instrument = 0
  sample sample = 0
  organizational organizational = 0
 }
// A device used to filter for electrons with specific energy.
message EnergyFilter
 {
  boolean used = 0
  string model = 0
  any widthEnergyFilter = 0
 }
// Description of the project funding
message Funder
 {
  string funderName = 0
  organizationTypeEnum typeOrg = 0
  string country = 0
 }
// A gain reference file.
message GainFile
 {
  integer width = 0
  integer height = 0
 repeated  coordinateSystem coordinateSystems = 0
 repeated  coordinateTransformation coordinateTransformations = 0
  string path = 0
 }
// Grant
message Grant
 {
  string grantName = 0
  any startDate = 0
  any endDate = 0
  quantityValue budget = 0
  string projectId = 0
  string country = 0
 }
// Details on the grid used in the experiment.
message Grid
 {
  string manufacturer = 0
  string material = 0
  float mesh = 0
  boolean filmSupport = 0
  string filmMaterial = 0
  string filmTopology = 0
  string filmThickness = 0
  string pretreatmentType = 0
  any pretreatmentTime = 0
  any pretreatmentPressure = 0
  string pretreatmentAtmosphere = 0
 }
// The identity transformation
message Identity
 {
  string name = 0
  string input = 0
  string output = 0
  transformationType transformationType = 0
 }
// A 2D image.
message Image2D
 {
  integer width = 0
  integer height = 0
 repeated  coordinateSystem coordinateSystems = 0
 repeated  coordinateTransformation coordinateTransformations = 0
 }
// A 3D image.
message Image3D
 {
  integer width = 0
  integer height = 0
  integer depth = 0
 repeated  coordinateSystem coordinateSystems = 0
 repeated  coordinateTransformation coordinateTransformations = 0
 }
// size of a 2D image (in integer units)
message ImageSize
 {
  integer heightIm = 0
  integer widthIm = 0
 }
// A stack of 2D images.
message ImageStack2D
 {
 repeated  image2D images2D = 0
 }
// A stack of 3D images.
message ImageStack3D
 {
 repeated  image3D images3D = 0
 }
// Instrument values, mostly constant across a data collection.
message Instrument
 {
  string microscope = 0
  string illumination = 0
  string imaging = 0
  string electronSource = 0
  any accelerationVoltage = 0
  any c2Aperture = 0
  any cs = 0
 }
// Information on ligands if present.
message Ligand
 {
  boolean present = 0
  string smiles = 0
  string reference = 0
 }
// Axis permutation transformation
message MapAxis
 {
  string name = 0
  string input = 0
  string output = 0
  transformationType transformationType = 0
 repeated  axisNameMapping mapAxis = 0
 }
// More detailed information about individual molecules.
message Molecule
 {
  string nameMol = 0
  string molecularType = 0
  string molecularClass = 0
  string sequence = 0
  string naturalSource = 0
  string taxonomyIdSource = 0
  string expressionSystem = 0
  string taxonomyIdExpression = 0
  string geneName = 0
 }
// An individual movie frame
message MovieFrame
 {
  integer width = 0
  integer height = 0
 repeated  coordinateSystem coordinateSystems = 0
 repeated  coordinateTransformation coordinateTransformations = 0
  string path = 0
  integer section = 0
  float nominalTiltAngle = 0
  float accumulatedDose = 0
  cTFMetadata ctfMetadata = 0
 }
// A stack of movie frames.
message MovieStack
 {
  string path = 0
 repeated  movieFrame imagesMovie = 0
 }
// A collection of movie stacks using the same gain and defect files.
message MovieStackCollection
 {
 repeated  movieStackSeries movieStacks = 0
  gainFile gainFile = 0
  defectFile defectFile = 0
 }
// A group of movie stacks that belong to a single tilt series.
message MovieStackSeries
 {
 repeated  movieStack stacks = 0
 }
// Overarching category for authors and grants
message Organizational
 {
 repeated  grant grants = 0
 repeated  author authors = 0
 repeated  funder funder = 0
 }
// Description of the overall molecule
message OverallMolecule
 {
  moleculeClassEnum molecularOverallType = 0
  string nameSample = 0
  string source = 0
  any molecularWeight = 0
  assemblyEnum assembly = 0
 }
// A 3D particle density map.
message ParticleMap
 {
  integer width = 0
  integer height = 0
  integer depth = 0
 repeated  coordinateSystem coordinateSystems = 0
 repeated  coordinateTransformation coordinateTransformations = 0
  string path = 0
 }
// personal information
message Person
 {
  string lastName = 0
  string firstName = 0
  boolean workStatus = 0
  string email = 0
  string workPhone = 0
 }
// Used to modulate the phase of the electron wave.
message Phaseplate
 {
  boolean used = 0
  string instrumentType = 0
 }
// A set of 2D points with an associated rotation matrix.
message PointMatrixSet2D
 {
  string path = 0
  float origin2D = 0
  float matrix2D = 0
 repeated  coordinateSystem coordinateSystems = 0
 repeated  coordinateTransformation coordinateTransformations = 0
 }
// A set of 3D points with an associated rotation matrix.
message PointMatrixSet3D
 {
  string path = 0
  float origin3D = 0
  float matrix3D = 0
 repeated  coordinateSystem coordinateSystems = 0
 repeated  coordinateTransformation coordinateTransformations = 0
 }
// A set of 2D point annotations.
message PointSet2D
 {
  string path = 0
  float origin2D = 0
 repeated  coordinateSystem coordinateSystems = 0
 repeated  coordinateTransformation coordinateTransformations = 0
 }
// A set of 3D point annotations.
message PointSet3D
 {
  string path = 0
  float origin3D = 0
 repeated  coordinateSystem coordinateSystems = 0
 repeated  coordinateTransformation coordinateTransformations = 0
 }
// A set of 2D points with an associated direction vector.
message PointVectorSet2D
 {
  string path = 0
  float origin2D = 0
  float vector2D = 0
 repeated  coordinateSystem coordinateSystems = 0
 repeated  coordinateTransformation coordinateTransformations = 0
 }
// A set of 3D points with an associated direction vector.
message PointVectorSet3D
 {
  string path = 0
  float origin3D = 0
  float vector3D = 0
 repeated  coordinateSystem coordinateSystems = 0
 repeated  coordinateTransformation coordinateTransformations = 0
 }
// An annotation image with real-valued labels.
message ProbabilityMap2D
 {
  string path = 0
  integer width = 0
  integer height = 0
 repeated  coordinateSystem coordinateSystems = 0
 repeated  coordinateTransformation coordinateTransformations = 0
 }
// An annotation volume with real-valued labels.
message ProbabilityMap3D
 {
  string path = 0
  integer width = 0
  integer height = 0
  integer depth = 0
 repeated  coordinateSystem coordinateSystems = 0
 repeated  coordinateTransformation coordinateTransformations = 0
 }
// Information on the processing of tomography datasets, using the cryoET metadata standard
message Processing
 {
  region region = 0
  average average = 0
  movieStackCollection movieStackCollection = 0
  dataset dataset = 0
 }
// The tomographic alignment for a single projection.
message ProjectionAlignment
 {
  string name = 0
  transformationType transformationType = 0
  string input = 0
  string output = 0
 repeated  coordinateTransformation sequence = 0
 }
// A projection image.
message ProjectionImage
 {
  integer width = 0
  integer height = 0
 repeated  coordinateSystem coordinateSystems = 0
 repeated  coordinateTransformation coordinateTransformations = 0
  string path = 0
  integer section = 0
  float nominalTiltAngle = 0
  float accumulatedDose = 0
  cTFMetadata ctfMetadata = 0
 }
// unit value extended to have two additional fields si_value and si_unit
message QuantitySI
 {
  string unit = 0
  float value = 0
  float valueSI = 0
  string unitSI = 0
  string siValue = 0
  string siUnit = 0
 }
// if a value has a unit, it should be given as a unit value pair.
message QuantityValue
 {
  string unit = 0
  float value = 0
 }
// A range constructed from min and max
message Range
 {
  any minimal = 0
  any maximal = 0
 }
// Raw data (movie stacks) and derived data (tilt series, tomograms, annotations) from a single region of a specimen.
message Region
 {
 repeated  annotation annotations = 0
 repeated  movieStackCollection movieStackCollections = 0
 repeated  tiltSeries tiltSeries = 0
 repeated  alignment alignments = 0
 repeated  tomogram tomograms = 0
 }
// Unifying class to describe the full sample.
message Sample
 {
  overallMolecule overallMolecule = 0
 repeated  molecule molecule = 0
 repeated  ligand ligands = 0
  specimen specimen = 0
  grid grid = 0
 }
// A scaling transformation
message Scale
 {
  string name = 0
  string input = 0
  string output = 0
  transformationType transformationType = 0
 repeated  float scale = 0
 }
// An annotation image with categorical labels.
message SegmentationMask2D
 {
  string path = 0
  integer width = 0
  integer height = 0
 repeated  coordinateSystem coordinateSystems = 0
 repeated  coordinateTransformation coordinateTransformations = 0
 }
// An annotation volume with categorical labels.
message SegmentationMask3D
 {
  string path = 0
  integer width = 0
  integer height = 0
  integer depth = 0
 repeated  coordinateSystem coordinateSystems = 0
 repeated  coordinateTransformation coordinateTransformations = 0
 }
// A sequence of transformations
message Sequence
 {
  string name = 0
  string input = 0
  string output = 0
  transformationType transformationType = 0
 repeated  coordinateTransformation sequence = 0
 }
// A series of numbers constructed from min, max, and increment
message Series
 {
  any minimal = 0
  any maximal = 0
  any increment = 0
 }
// Optional optics used to correct for instrument limitations.
message SpecialistOptics
 {
  phaseplate phaseplate = 0
  sphericalAberrationCorrector sphericalAberrationCorrector = 0
  chromaticAberrationCorrector chromaticAberrationCorrector = 0
 }
// Description of specimen handling.
message Specimen
 {
  string buffer = 0
  any concentration = 0
  float ph = 0
  boolean vitrification = 0
  string vitrificationCryogen = 0
  any humidity = 0
  any temperature = 0
  boolean staining = 0
  boolean embedding = 0
  boolean shadowing = 0
 }
// Special device used to correct instrument inherent spherical aberration.
message SphericalAberrationCorrector
 {
  boolean used = 0
  string instrumentType = 0
 }
// A croppecd projection image.
message SubProjectionImage
 {
  integer width = 0
  integer height = 0
 repeated  coordinateSystem coordinateSystems = 0
 repeated  coordinateTransformation coordinateTransformations = 0
  string path = 0
  integer section = 0
  float nominalTiltAngle = 0
  float accumulatedDose = 0
  cTFMetadata ctfMetadata = 0
  integer particleIndex = 0
 }
// The min, max and increment of the tilt angle in a tomography session. Unit is degree.
message TiltAngle
 {
  any minimal = 0
  any maximal = 0
  any increment = 0
 }
// A stack of projection images.
message TiltSeries
 {
 repeated  projectionImage imagesTilt = 0
  string path = 0
 }
// A 3D tomogram.
message Tomogram
 {
  integer width = 0
  integer height = 0
  integer depth = 0
 repeated  coordinateSystem coordinateSystems = 0
 repeated  coordinateTransformation coordinateTransformations = 0
  string path = 0
 }
// A translation transformation
message Translation
 {
  string name = 0
  string input = 0
  string output = 0
  transformationType transformationType = 0
 repeated  float translation = 0
 }
// A mesh annotation.
message TriMesh
 {
  string path = 0
 repeated  coordinateSystem coordinateSystems = 0
 repeated  coordinateTransformation coordinateTransformations = 0
 }
