 syntax="proto3";
 package
// metamodel_version: 1.7.0
// General acquisition covering materials science and other use cases. For specialized techniques, use the appropriate subclass (AcquisitionSpa for single particle, or tomography subclasses).
message Acquisition
 {
  string technique = 0
  quantitySI screenCurrent = 0
  range nominalDefocus = 0
  range calibratedDefocus = 0
  integer nominalMagnification = 0
  integer calibratedMagnification = 0
  string holder = 0
  string holderCryogen = 0
  range temperature = 0
  string microscopeSoftware = 0
 repeated  detector detectors = 0
  quantitySI dosePerMovie = 0
  energyFilter energyFilter = 0
  imageSize imageSize = 0
  datetime dateTime = 0
  quantitySI exposureTime = 0
  string cryogen = 0
  integer framesPerMovie = 0
  integer gridsImaged = 0
  integer imagesGenerated = 0
  imageSize binningCamera = 0
  quantitySI pixelSize = 0
  specialistOptics specialistOptics = 0
  boundingBox2D beamshift = 0
  boundingBox2D beamtilt = 0
  boundingBox2D imageshift = 0
  integer beamtiltgroups = 0
  string gainrefFlipRotate = 0
 }
message AcquisitionSpa
 {
  quantitySI screenCurrent = 0
  range nominalDefocus = 0
  range calibratedDefocus = 0
  integer nominalMagnification = 0
  integer calibratedMagnification = 0
  string holder = 0
  string holderCryogen = 0
  range temperature = 0
  string microscopeSoftware = 0
 repeated  detector detectors = 0
  quantitySI dosePerMovie = 0
  energyFilter energyFilter = 0
  imageSize imageSize = 0
  datetime dateTime = 0
  quantitySI exposureTime = 0
  string cryogen = 0
  integer framesPerMovie = 0
  integer gridsImaged = 0
  integer imagesGenerated = 0
  imageSize binningCamera = 0
  quantitySI pixelSize = 0
  specialistOptics specialistOptics = 0
  boundingBox2D beamshift = 0
  boundingBox2D beamtilt = 0
  boundingBox2D imageshift = 0
  integer beamtiltgroups = 0
  string gainrefFlipRotate = 0
  string technique = 0
 }
// an axis-aligned 2D bounding box (float units)
message BoundingBox2D
 {
  quantitySI xMin = 0
  quantitySI xMax = 0
  quantitySI yMin = 0
  quantitySI yMax = 0
 }
// Special device used to correct instrument inherent chromatic aberration.
message ChromaticAberrationCorrector
 {
  boolean used = 0
  string instrumentType = 0
 }
message Descriptors
 {
  string descriptorName = 0
  any descriptorThing = 0
 }
// Class representing a detector
message Detector
 {
  string name = 0
  string mode = 0
  quantitySI dispersion = 0
  range collectionAngle = 0
 }
// A device used to filter for electrons with specific energy.
message EnergyFilter
 {
  boolean used = 0
  string model = 0
  quantitySI widthEnergyFilter = 0
 }
// size of a 2D image (in integer units)
message ImageSize
 {
  integer height = 0
  integer width = 0
 }
// Used to modulate the phase of the electron wave.
message Phaseplate
 {
  boolean used = 0
  string instrumentType = 0
 }
// unit value extended to have two additional fields si_value and si_unit
message QuantitySI
 {
  string unit = 0
  float value = 0
  float valueSI = 0
  string unitSI = 0
 }
// if a value has a unit, it should be given as a unit value pair.
message QuantityValue
 {
  string unit = 0
  float value = 0
 }
// A range constructed from min and max
message Range
 {
  quantitySI minimal = 0
  quantitySI maximal = 0
 }
// A series of numbers constructed from min, max, and increment
message Series
 {
  quantitySI minimal = 0
  quantitySI maximal = 0
  quantitySI increment = 0
 }
// Optional optics used to correct for instrument limitations.
message SpecialistOptics
 {
  phaseplate phaseplate = 0
  sphericalAberrationCorrector sphericalAberrationCorrector = 0
  chromaticAberrationCorrector chromaticAberrationCorrector = 0
 }
// Special device used to correct instrument inherent spherical aberration.
message SphericalAberrationCorrector
 {
  boolean used = 0
  string instrumentType = 0
 }
