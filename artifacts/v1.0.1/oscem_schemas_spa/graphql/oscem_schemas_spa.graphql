# metamodel_version: 1.7.0
enum AcquisitionTechnique
  {
    spa
    subtomo
    env_tomo
    cellular_tomo
  }

enum AssemblyEnum
  {
    FILAMENT
    HELICAL_ARRAY
    PARTICLE
  }

enum MoleculeClassEnum
  {
    CELL
    COMPLEX
    ORGANELLE_OR_CELLULAR_COMPONENT
    RIBOSOME
    TISSUE
    VIRUS
  }

enum OrganizationTypeEnum
  {
    Academic
    Commercial
    Government
    Other
  }

type Acquisition
  {
    technique: String
    screenCurrent: QuantitySI
    nominalDefocus: Range
    calibratedDefocus: Range
    nominalMagnification: Int
    calibratedMagnification: Int
    holder: String
    holderCryogen: String
    temperature: Range
    microscopeSoftware: String
    detectors: [Detector]!
    dosePerMovie: QuantitySI
    energyFilter: EnergyFilter
    imageSize: ImageSize
    dateTime: String!
    exposureTime: QuantitySI
    cryogen: String
    framesPerMovie: Int
    gridsImaged: Int
    imagesGenerated: Int
    binningCamera: ImageSize!
    pixelSize: QuantitySI!
    specialistOptics: SpecialistOptics
    beamshift: BoundingBox2D
    beamtilt: BoundingBox2D
    imageshift: BoundingBox2D
    beamtiltgroups: Int
    gainrefFlipRotate: String
  }

type AcquisitionSpa
  {
    screenCurrent: QuantitySI
    nominalDefocus: Range
    calibratedDefocus: Range
    nominalMagnification: Int
    calibratedMagnification: Int
    holder: String
    holderCryogen: String
    temperature: Range
    microscopeSoftware: String
    detectors: [Detector]!
    dosePerMovie: QuantitySI
    energyFilter: EnergyFilter
    imageSize: ImageSize
    dateTime: String!
    exposureTime: QuantitySI
    cryogen: String
    framesPerMovie: Int
    gridsImaged: Int
    imagesGenerated: Int
    binningCamera: ImageSize!
    pixelSize: QuantitySI!
    specialistOptics: SpecialistOptics
    beamshift: BoundingBox2D
    beamtilt: BoundingBox2D
    imageshift: BoundingBox2D
    beamtiltgroups: Int
    gainrefFlipRotate: String
    technique: String!
  }

scalar Any

type Astigmatism
  {
    astigmatismHistogram: String
  }

type Author
  {
    jobTitle: Boolean
    telephone: String
    orcid: String
    country: String
    role: String
    nameOrg: String
    typeOrg: OrganizationTypeEnum!
    familyName: String!
    givenName: String!
    email: String!
  }

type BoundingBox2D
  {
    xMin: QuantitySI
    xMax: QuantitySI
    yMin: QuantitySI
    yMax: QuantitySI
  }

type ChromaticAberrationCorrector
  {
    used: Boolean!
    instrumentType: String!
  }

type Classes2D
  {
    particlesPer2Dclass: [Int]
    imagesClasses2D: String
    resolutionClasses2D: QuantityValue
    descriptors: [Descriptors]
  }

type Classes3D
  {
    particlesPer3Dclass: [Int]
    imagesClasses3D: String
    volume: [Volume]
    resolutionClasses3D: QuantityValue
    descriptors: [Descriptors]
  }

type Coordinates
  {
    numberParticles: Int!
    particlesPerMicrograph: Float
    numSourceMicrographs: Int
    particlesHistogram: String
    micrographExamples: String
    descriptors: [Descriptors]
  }

type CTFs
  {
    amplitudeContrast: Float
    defocus: Defocus
    resolution: Resolution
    astigmatism: Astigmatism
    descriptors: [Descriptors]
  }

type Defocus
  {
    outputMinDefocus: QuantityValue
    outputMaxDefocus: QuantityValue
    outputAvgDefocus: QuantityValue
    defocusHistogram: String
    defocusMicrographExamples: String
  }

interface Descriptor
  {
    descriptorName: String!
    descriptorThing: Any
  }

type Descriptors
  {
    descriptorName: String!
    descriptorThing: Any
  }

type Detector
  {
    name: String
    mode: String
    dispersion: QuantitySI
    collectionAngle: Range
  }

interface EMDatasetBase
  {
    acquisition: Any
    instrument: Any
    sample: Any
    organizational: Any
  }

type EMDatasetSpa
  {
    processing: Processing
    acquisition: AcquisitionSpa!
    instrument: Instrument!
    sample: SampleMolecular
    organizational: Organizational
  }

type EnergyFilter
  {
    used: Boolean!
    model: String
    widthEnergyFilter: QuantitySI!
  }

type Funder
  {
    funderName: String
    typeOrg: OrganizationTypeEnum
    country: String
  }

type Grant
  {
    grantName: String
    startDate: String
    endDate: String
    budget: QuantityValue
    projectId: String
    country: String
  }

type Grid
  {
    manufacturer: String
    material: String
    mesh: Float
    filmSupport: Boolean
    filmMaterial: String
    filmTopology: String
    filmThickness: String
    pretreatmentType: String
    pretreatmentTime: QuantitySI
    pretreatmentPressure: QuantitySI
    pretreatmentAtmosphere: String
  }

type ImageSize
  {
    height: Int
    width: Int
  }

type Instrument
  {
    microscope: Microscope!
    illumination: String!
    imaging: String!
    electronSource: String!
    accelerationVoltage: QuantitySI!
    c2Aperture: QuantitySI
    cs: QuantitySI
    operatingMode: String
    beamConvergence: QuantitySI
  }

type IsosurfaceImages
  {
    frontView: String
    sideView: String
    topView: String
  }

type Ligand
  {
    present: Boolean
    smiles: String
    reference: String
  }

type Micrographs
  {
    numberMicrographs: Float!
    descriptors: [Descriptors]
  }

type Microscope
  {
    model: String!
    manufacturer: String
  }

type Molecule
  {
    nameMol: String!
    molecularType: String
    molecularClass: String
    sequence: String!
    naturalSource: String!
    taxonomyIdSource: String
    expressionSystem: String
    taxonomyIdExpression: String
    geneName: String
  }

type Movies
  {
    dosePerImage: QuantityValue
    initialDose: QuantityValue
    gainImage: String
    darkImage: String
    descriptors: [Descriptors]
  }

type Organizational
  {
    grants: [Grant]
    authors: [Author]!
    funder: [Funder]
  }

type OrthogonalSlices
  {
    orthogonalSlicesX: String
    orthogonalSlicesY: String
    orthogonalSlicesZ: String
  }

type OverallMolecule
  {
    molecularOverallType: MoleculeClassEnum
    nameSample: String!
    source: String!
    molecularWeight: QuantitySI
    assembly: AssemblyEnum
  }

type Person
  {
    familyName: String
    givenName: String
    jobTitle: Boolean
    email: String
    telephone: String
  }

type Phaseplate
  {
    used: Boolean!
    instrumentType: String!
  }

type Processing
  {
    movies: Movies
    micrographs: Micrographs
    ctfs: CTFs
    coordinates: Coordinates
    classes2D: Classes2D
    classes3D: Classes3D
    volumes: [Volumes]
  }

type QuantitySI
  {
    unit: String!
    value: Float!
    valueSI: Float
    unitSI: String
  }

type QuantityValue
  {
    unit: String!
    value: Float!
  }

type Range
  {
    minimal: QuantitySI
    maximal: QuantitySI
  }

type Resolution
  {
    outputMinResolution: QuantityValue
    outputMaxResolution: QuantityValue
    outputAvgResolution: QuantityValue
    resolutionHistogram: String
  }

type Sample
  {
    name: String!
    description: String!
    overallMolecule: OverallMolecule
    molecule: [Molecule]
    ligands: [Ligand]
    specimen: Specimen
    grid: Grid
  }

type SampleMolecular
  {
    molecule: [Molecule]
    ligands: [Ligand]
    specimen: Specimen
    grid: Grid
    name: String
    description: String
    overallMolecule: OverallMolecule!
  }

type Series
  {
    minimal: QuantitySI
    maximal: QuantitySI
    increment: QuantitySI
  }

type SpecialistOptics
  {
    phaseplate: Phaseplate
    sphericalAberrationCorrector: SphericalAberrationCorrector
    chromaticAberrationCorrector: ChromaticAberrationCorrector
  }

type Specimen
  {
    buffer: String
    concentration: QuantitySI
    ph: Float
    vitrification: Boolean
    vitrificationCryogen: String
    humidity: QuantitySI
    temperature: QuantitySI
    staining: Boolean
    embedding: Boolean
    shadowing: Boolean
  }

type SphericalAberrationCorrector
  {
    used: Boolean!
    instrumentType: String!
  }

type Volume
  {
    orthogonalSlices: OrthogonalSlices
    isosurfaceImages: IsosurfaceImages
  }

type Volumes
  {
    volumeType: String!
    volNumberParticles: Int
    size: [Int]
    orthogonalSlices: OrthogonalSlices
    isosurfaceImages: IsosurfaceImages
    volResolution: QuantityValue
    descriptors: [Descriptors]
  }
